<!DOCTYPE html>
<html>
<head>
  <title>Vino - post Miiverse</title>
   <link rel="icon" type="image/x-icon" href="../img/favicon.ico">
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Script-Type" content="text/javascript">
  <link rel="stylesheet" href="../css/main-style.css">
</head>
<body onload="hideLoad()">

  <div id="menu-buttons">
    <div id="back">
      <a href="javascript:void(0);" onclick="tvii.back();" data-sound="SE_WAVE_CANCEL" class="backBtn">
      </a></div>
  
      <div id="remote">
        <a data-sound="SE_COMMON_SELECT" class="remoteBtn" onclick="changeChannelDemo(12, 15, 15);" href="javascript:void(0);">
        </a></div>
  </div>

<h2>Post text from TVii to miiverse</h2>
<p2>Please write an message below or drawing. only one at the time</p2>
<p>Post text:</p></br>
<input type="text" data-sound="SE_COMMON_SELECT" id="textValue" name="text" placeholder="Write a post here." value="" vino_ok_text="Post" maxlength="100">
<p>Post a drawing:</p></br>
<button id="draw" data-sound="SE_COMMON_SELECT" onclick="postMemo()">Post Drawing</button>
</br>
<div id="canvas">
<img id="canvasDraw" width="320" height="120">
</div>

<BR><BR><BR>
<button data-sound="SE_POST_BTN">Post painting</button>
<button data-sound="SE_POST">Post other</button>

<script>
document.getElementById('textValue').addEventListener('change', postText);
function postText() {
var userWrittenText = document.getElementById('textValue').value
vino.olv_postText(userWrittenText, 'Malcolm in the Middle', 800, true, 'vino_search_key', '', '', '', '');
}

function postMemo() {
    vino.memo_open(true);

    var check = setInterval(function() {
        if (vino.memo_isFinish()) {
            var painting = vino.memo_getImageTgaRaw();
            document.getElementById('canvasDraw').src = vino.memo_getImagePng();
            vino.olv_postImage(painting, 'The Garfield Show', 800, true, 'vino_search_key', '', '', '', '');
            clearInterval(check);
        }
    }, 50);
}
</script>
<script type="text/javascript" src="../js/vino.js"></script>
</body>
</html>
